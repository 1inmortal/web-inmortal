import React, { useEffect } from 'react';
import './styles.css';

const BODY_HTML_RAW = "<div id=\"loader\">\r\n        <div class=\"spinner\"></div>\r\n        <p class=\"mt-4 text-sm text-gray-400 brand-font tracking-widest\">CARGANDO MODELOS 3D...</p>\r\n        <p class=\"mt-2 text-xs text-gray-500 max-w-xs text-center\">Si tarda, puedes seguir bajando.</p>\r\n    </div>\r\n\r\n    \r\n    <div class=\"progress-bar\"></div>\r\n\r\n    <a href=\"https://1inmortal.github.io/web-inmortal/proyectos/index.html\" class=\"back-to-portfolio\" title=\"Volver a Proyectos\">\r\n        <span aria-hidden=\"true\">←</span> Proyectos\r\n    </a>\r\n\r\n    \r\n    <div id=\"canvas-container\"></div>\r\n\r\n    \r\n    <main>\r\n        \r\n        <section id=\"hero\" class=\"justify-center text-center\">\r\n            <div class=\"z-10 relative\">\r\n                <p class=\"stage-indicator\">1 / 6</p>\r\n                <div class=\"inline-block px-3 py-1 mb-4 border border-blue-500/30 rounded-full bg-blue-500/10 text-xs tracking-widest text-blue-400 uppercase\">\r\n                    Servicio Técnico Premium\r\n                </div>\r\n                <h1 class=\"text-5xl md:text-7xl font-bold mb-6 leading-tight\">\r\n                    Devuelve la vida <br> a tu <span class=\"highlight-text\">Laptop</span>\r\n                </h1>\r\n                <p class=\"text-gray-400 text-lg max-w-2xl mx-auto mb-8\">\r\n                    Mantenimiento de precisión, diagnóstico avanzado y optimización de hardware.\r\n                    No es solo reparación, es renacimiento tecnológico.\r\n                </p>\r\n                <div class=\"flex justify-center gap-4 flex-wrap\">\r\n                    <a href=\"#contact\" class=\"cta-btn text-white no-underline\">Agendar Diagnóstico</a>\r\n                    <a href=\"#diagnosis\" class=\"px-8 py-4 rounded-full border border-gray-700 text-gray-300 hover:bg-white/5 transition-colors no-underline\">\r\n                        Ver Servicios\r\n                    </a>\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n        \r\n        <section id=\"diagnosis\" class=\"justify-start section-left\">\r\n            <div class=\"content-box section-content\">\r\n                <p class=\"stage-indicator\">2 / 6</p>\r\n                <div class=\"hud-line\" style=\"width: 100px;\"></div>\r\n                <h2 class=\"text-4xl font-bold mb-4\">Análisis y Diagnóstico</h2>\r\n                <p class=\"text-gray-300 leading-relaxed mb-6\">\r\n                    Detectamos fallas reales, no suposiciones. Utilizamos herramientas de diagnóstico \r\n                    por hardware para verificar voltajes, temperaturas y estado de los componentes.\r\n                </p>\r\n                <ul class=\"space-y-3 text-sm text-gray-400\">\r\n                    <li class=\"flex items-center\"><span class=\"w-2 h-2 bg-blue-500 rounded-full mr-3\"></span>Test de integridad de RAM</li>\r\n                    <li class=\"flex items-center\"><span class=\"w-2 h-2 bg-blue-500 rounded-full mr-3\"></span>Análisis S.M.A.R.T de disco</li>\r\n                    <li class=\"flex items-center\"><span class=\"w-2 h-2 bg-blue-500 rounded-full mr-3\"></span>Revisión térmica de GPU/CPU</li>\r\n                </ul>\r\n                <p class=\"bridge-text\">Con el diagnóstico listo, pasamos a limpieza interna para recuperar temperaturas y estabilidad.</p>\r\n                <p class=\"mt-2 text-sm\"><a href=\"#cleaning\" class=\"section-link\">Siguiente: Limpieza profunda →</a></p>\r\n            </div>\r\n        </section>\r\n\r\n        \r\n        <section id=\"cleaning\" class=\"justify-end section-right\">\r\n            <div class=\"content-box section-content text-left md:text-right\">\r\n                <p class=\"stage-indicator md:text-right\">3 / 6</p>\r\n                <div class=\"hud-line md:ml-auto\" style=\"width: 100px;\"></div>\r\n                <h2 class=\"text-4xl font-bold mb-4\">Limpieza Profunda</h2>\r\n                <p class=\"text-gray-300 leading-relaxed mb-6\">\r\n                    El polvo y la pasta térmica seca matan tu rendimiento. Desmontamos tu equipo,\r\n                    limpiamos cada ventilador y aplicamos pasta térmica de alta conductividad.\r\n                </p>\r\n                <div class=\"inline-flex gap-4 justify-start md:justify-end\">\r\n                    <div class=\"text-center\">\r\n                        <div class=\"text-2xl font-bold text-blue-400\">-15°C</div>\r\n                        <div class=\"text-xs text-gray-500\">Temperatura</div>\r\n                    </div>\r\n                    <div class=\"text-center\">\r\n                        <div class=\"text-2xl font-bold text-blue-400\">+40%</div>\r\n                        <div class=\"text-xs text-gray-500\">Rendimiento</div>\r\n                    </div>\r\n                </div>\r\n                <p class=\"bridge-text\">Con el hardware limpio, optimizamos software para que arranque y responda rápido.</p>\r\n                <p class=\"mt-2 text-sm md:text-right\"><a href=\"#install\" class=\"section-link\">Siguiente: Instalación y optimización →</a></p>\r\n            </div>\r\n        </section>\r\n\r\n        \r\n        <section id=\"install\" class=\"justify-center text-center relative section-left\">\r\n            <div class=\"content-box section-content bg-opacity-80 mx-auto md:mt-[30vh] max-w-[800px]\">\r\n                <p class=\"stage-indicator\">4 / 6</p>\r\n                <h2 class=\"text-4xl font-bold mb-4\">Instalación y Optimización</h2>\r\n                <p class=\"text-gray-300 leading-relaxed max-w-xl mx-auto\">\r\n                    Formateo seguro, instalación limpia de Windows y drivers oficiales. \r\n                    Eliminamos el bloatware para que tu equipo vuele desde el primer segundo.\r\n                </p>\r\n                <div class=\"mt-6 h-1 w-full bg-gray-800 rounded-full overflow-hidden\">\r\n                    <div class=\"h-full bg-blue-500 w-2/3 animate-pulse\"></div>\r\n                </div>\r\n                <p class=\"text-xs text-right text-blue-400 mt-2 font-mono\">STATUS: OPTIMIZED</p>\r\n                <p class=\"bridge-text mt-4\">Ya optimizado, elige el plan ideal y agenda.</p>\r\n                <p class=\"mt-2 text-sm\"><a href=\"#pricing\" class=\"section-link\">Siguiente: Planes y precios →</a></p>\r\n            </div>\r\n        </section>\r\n\r\n        \r\n        <section id=\"pricing\" class=\"justify-start items-center relative\">\r\n            <p class=\"stage-indicator absolute top-8 left-8 md:left-12 z-10\">5 / 6</p>\r\n            <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6 w-full max-w-6xl mx-auto z-10 px-4\">\r\n                <div class=\"glass-card p-8 rounded-2xl max-w-[600px] mx-auto md:mx-0 w-full\">\r\n                    <h3 class=\"text-2xl font-bold mb-2\">Mantenimiento Preventivo</h3>\r\n                    <div class=\"text-3xl font-bold text-blue-400 mb-4\">$35 <span class=\"text-sm text-gray-500\">USD</span></div>\r\n                    <ul class=\"space-y-2 text-gray-400 mb-6 text-sm\">\r\n                        <li>• Limpieza externa e interna</li>\r\n                        <li>• Cambio de pasta térmica</li>\r\n                        <li>• Ajuste de bisagras</li>\r\n                    </ul>\r\n                    <a href=\"#contact\" data-plan=\"preventivo\" class=\"block w-full py-2 border border-blue-500/50 text-blue-400 rounded-lg hover:bg-blue-500/10 transition text-center no-underline\">Elegir</a>\r\n                </div>\r\n\r\n                <div class=\"glass-card p-8 rounded-2xl border-blue-500/50 relative overflow-hidden max-w-[600px] mx-auto md:mx-0 w-full\">\r\n                    <div class=\"absolute top-0 right-0 bg-blue-600 text-xs px-2 py-1\">RECOMENDADO</div>\r\n                    <h3 class=\"text-2xl font-bold mb-2\">Renovación Total</h3>\r\n                    <div class=\"text-3xl font-bold text-blue-400 mb-4\">$60 <span class=\"text-sm text-gray-500\">USD</span></div>\r\n                    <ul class=\"space-y-2 text-gray-400 mb-6 text-sm\">\r\n                        <li>• Todo lo del preventivo</li>\r\n                        <li>• Formateo e instalación limpia</li>\r\n                        <li>• Optimización de BIOS y Drivers</li>\r\n                        <li>• Backup de datos (hasta 50GB)</li>\r\n                    </ul>\r\n                    <a href=\"#contact\" data-plan=\"total\" class=\"block w-full py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition text-center no-underline\">Elegir</a>\r\n                </div>\r\n            </div>\r\n        </section>\r\n\r\n        \r\n        <section id=\"contact\" class=\"justify-center flex-col text-center\">\r\n            <p class=\"stage-indicator mb-2\">6 / 6</p>\r\n            <h2 class=\"text-5xl font-bold mb-6\">Tu laptop en manos expertas</h2>\r\n            <p class=\"text-xl text-gray-400 mb-4\">Garantía de 30 días en todos los servicios.</p>\r\n            <p class=\"text-sm text-gray-500 mb-6 max-w-md mx-auto\">Respondemos en menos de 24 h por email o WhatsApp. Solo pedimos nombre y correo para enviarte el presupuesto y coordinar la cita.</p>\r\n            <div id=\"contact-plan-summary\" class=\"mb-4 min-h-[2rem]\" aria-live=\"polite\"></div>\r\n            <form id=\"contact-form\" class=\"w-full max-w-md mx-auto bg-white/5 p-8 rounded-2xl backdrop-blur-md border border-white/10 text-left\">\r\n                <input type=\"hidden\" name=\"plan\" id=\"contact-plan\" value=\"\">\r\n                <label class=\"block text-sm text-gray-400 mb-1\" for=\"contact-name\">Nombre</label>\r\n                <input type=\"text\" id=\"contact-name\" name=\"name\" placeholder=\"Tu nombre\" class=\"w-full bg-black/30 border border-gray-700 rounded-lg p-3 mb-4 text-white focus:border-blue-500 outline-none\" required>\r\n                <label class=\"block text-sm text-gray-400 mb-1\" for=\"contact-email\">Email</label>\r\n                <input type=\"email\" id=\"contact-email\" name=\"email\" placeholder=\"tu@email.com\" class=\"w-full bg-black/30 border border-gray-700 rounded-lg p-3 mb-4 text-white focus:border-blue-500 outline-none\" required>\r\n                <button type=\"submit\" id=\"contact-submit\" class=\"cta-btn w-full text-white\">Contactar Ahora</button>\r\n                <p class=\"form-status\" id=\"form-status\" role=\"status\"></p>\r\n            </form>\r\n            <p class=\"text-sm text-gray-500 mt-4\">También por <strong class=\"text-gray-400\">Tel / WhatsApp</strong> para consultas rápidas.</p>\r\n            <footer class=\"absolute bottom-4 text-xs text-gray-600\">\r\n                © 2024 TechRepair Services. All rights reserved.\r\n            </footer>\r\n        </section>\r\n    </main>";

// Quitar formulario de contacto y resumen de plan
const BODY_HTML = BODY_HTML_RAW.replace(/<div id="contact-plan-summary"[\s\S]*?<\/form>/gi, '');

function App() {
  useEffect(() => {
    const checkAndLoad = () => {
      if (typeof window.THREE === 'undefined' || typeof window.gsap === 'undefined' || typeof window.ScrollTrigger === 'undefined') return;
      if (window.__proyectosAppLoaded) return;
      window.__proyectosAppLoaded = true;

      const script = document.createElement('script');
      script.src = `${import.meta.env.BASE_URL}proyectos-app.js`;
      script.async = false;
      script.onload = () => console.log('✓ proyectos-app.js cargado');
      script.onerror = (e) => console.error('✗ Error cargando proyectos-app.js', e);
      document.body.appendChild(script);
    };

    const t = setInterval(checkAndLoad, 100);
    const timeout = setTimeout(() => { clearInterval(t); }, 12000);
    return () => { clearInterval(t); clearTimeout(timeout); };
  }, []);

  return <div id="app-root" dangerouslySetInnerHTML={{ __html: BODY_HTML }} />;
}

export default App;
